{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Dashboard: Recent Activity for Shepherding Visits",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Add a new \"Recent Activity\" section heading directly below the existing Dashboard stat cards.",
      "acceptanceCriteria": [
        "On the Dashboard page, the \"Recent Activity\" heading renders beneath the stat cards grid without changing the existing stat cards, header, or layout above it.",
        "The heading text is exactly \"Recent Activity\" (English, matching capitalization)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/Dashboard.tsx",
          "operation": "modify",
          "description": "Insert a new section immediately after the existing stat cards grid, rendering a heading with text exactly \"Recent Activity\" while keeping the existing header and stat cards unchanged."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Fetch shepherding visits on the Dashboard using the existing query hook and display the 5 most recent visits sorted by visit date (newest first).",
      "acceptanceCriteria": [
        "The Dashboard uses the existing query hook used elsewhere for shepherding visits (useGetAllShepherdingVisits) to retrieve the list.",
        "The displayed list is sorted descending by the visit date field used by the Shepherding pages (e.g., visit.visitDate).",
        "Only the 5 most recent visits are rendered (or fewer if fewer exist)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/Dashboard.tsx",
          "operation": "modify",
          "description": "Import and use the existing useGetAllShepherdingVisits hook to retrieve visits, then compute a derived list sorted by visitDate descending and limited to 5 items for rendering in the new Recent Activity section."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Render each recent visit with publisher name, formatted visit date, and a \"View\" link navigating to the existing visit profile route.",
      "acceptanceCriteria": [
        "Each list item shows the visit publisher name using the same field currently used in the Shepherding visit list/profile pages (e.g., visit.publisherName).",
        "Each list item shows the visit date formatted using the existing visit date formatter utility (formatVisitDate).",
        "Each list item includes a \"View\" link (text exactly \"View\") that navigates to the existing shepherding visit profile route pattern (/shepherding/<visitId>).",
        "Clicking \"View\" opens the correct ShepherdingVisitProfile page for that visit."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/Dashboard.tsx",
          "operation": "modify",
          "description": "In the Recent Activity list rendering, display visit.publisherName and formatVisitDate(visit.visitDate), and add a small \"View\" link/button using TanStack Router navigation to route to /shepherding/<visitId> for each item."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Show a muted \"No recent activity\" empty state when there are no shepherding visits.",
      "acceptanceCriteria": [
        "When the shepherding visits query returns an empty list, the Dashboard shows the text \"No recent activity\" styled with a muted/gray treatment (e.g., text-muted-foreground) in the Recent Activity section.",
        "When at least one visit exists, the empty-state text is not shown."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/Dashboard.tsx",
          "operation": "modify",
          "description": "Add an empty-state branch within the Recent Activity section that renders muted/gray text exactly \"No recent activity\" when the derived recent-visits list is empty, and hides it otherwise."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Keep all other Dashboard UI and behavior unchanged aside from adding the Recent Activity section.",
      "acceptanceCriteria": [
        "The existing Dashboard header text (\"Dashboard\" and its subheading) remains unchanged.",
        "The existing four stat cards (labels, colors, computed values, and grid layout) remain unchanged.",
        "No other routes, pages, or non-dashboard components are modified except what is necessary to support rendering the Recent Activity section on the Dashboard."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/Dashboard.tsx",
          "operation": "modify",
          "description": "Constrain changes to additive UI below the stat cards (and minimal imports needed for shepherding visits, date formatting, and navigation), ensuring existing Dashboard header text and stat card calculations/styling remain untouched."
        }
      ]
    }
  ]
}